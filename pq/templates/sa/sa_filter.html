<!DOCTYPE html>
<html lang="en">
{% extends 'pq/base.html' %}
{% load static %}
{% block content %}
<head>
    <!-- imput form css -->
    <link rel="stylesheet" type="text/css" href="{% static 'cs/css/style.css' %}">

    
</head>


<body>
    <form method="GET">
    <center>    
        <h3>SPEC Agreement Filter</h3>
        <button type="submit" >Search</button>
        {% if messages %}
        <div style="text-align: center;">
            {% for message in messages %}
                {{ message.tags }} : {{ message }}
            {% endfor %}
        </div>
        {% endif %}
    </center>
    
    <div class="row">
        
            <div class="column-1p5">
                <table id="search-tb">
                    <tr>
                        <td>{{ filter.form.CSNo.label_tag }}{{ filter.form.CSNo }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.SANo.label_tag }}{{ filter.form.SANo }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.CustID.label_tag }}{{ filter.form.CustID }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.CustIDV.label_tag }}{{ filter.form.CustIDV }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.PipeGrade.label_tag }}{{ filter.form.PipeGrade }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.PipeGradeV.label_tag }}{{ filter.form.PipeGradeV }}</td>
                    </tr>
                    <!-- <tr>
                        <td>{{ filter.form.CoilGrade.label_tag }}{{ filter.form.CoilGrade }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.CoilMaker.label_tag }}{{ filter.form.CoilMaker }}</td>
                    </tr>  -->
                    
                </table>
            </div>
            <div class="column-1p5">
                <div class="column-1p2">
                    <table id="search-tb">
                        <tr>
                            <td>{{ filter.form.OD.label_tag }}{{ filter.form.OD }}</td>
                        </tr>
                        <tr>
                            <td>{{ filter.form.ID.label_tag }}{{ filter.form.ID }}</td>
                        </tr>
                        <tr>
                            <td>{{ filter.form.WT.label_tag }}{{ filter.form.WT }}</td>
                        </tr> 
                        <tr>
                            <td>{{ filter.form.L.label_tag }}{{ filter.form.L }}</td>
                        </tr>
                        
                        
                    </table>
 
                </div>
                <div class="column-1p2">
                    <table id="search-tb">
                        
                        <tr>
                            <td>{{ filter.form.AdjOD.label_tag }}{{ filter.form.AdjOD }}</td>
                        </tr>
                        <tr>
                            <td>{{ filter.form.AdjID.label_tag }}{{ filter.form.AdjID }}</td>
                        </tr>
                        <tr>
                            <td>{{ filter.form.AdjWT.label_tag }}{{ filter.form.AdjWT }}</td>
                        </tr>
                        <tr>
                            <td>{{ filter.form.AdjL.label_tag }}{{ filter.form.AdjL }}</td>
                        </tr>
                        
                        
                        
                        
                    </table>                   
           
                </div>
            </div>
            <div class="column-1p5">
                <table id="search-tb">
                    
                    <tr>
                        <td>{{ filter.form.InBead.label_tag }}{{ filter.form.InBead }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.SurfLevel.label_tag }}{{ filter.form.SurfLevel }}</td>
                    </tr> 
                    
                    
                    <tr>
                        <td>{{ filter.form.Straight.label_tag }}{{ filter.form.Straight }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.Flaring.label_tag }}{{ filter.form.Flaring }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.Flattening90.label_tag }}{{ filter.form.Flattening90 }}</td>
                    </tr>
                    
                </table>
            </div>
            <div class="column-1p5">
                <table id="search-tb">
                    
                    <tr>
                        <td>{{ filter.form.Model.label_tag }}{{ filter.form.Model }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.PartNo.label_tag }}{{ filter.form.PartNo }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.PartName.label_tag }}{{ filter.form.PartName }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.PartMaker.label_tag }}{{ filter.form.PartMaker }}</td>
                    </tr> 
                    
                    
                    
                </table>
            </div>
            
            <div class="column-1p5">
                <table id="search-tb">
                    
                    
                    <tr>
                        <td>{{ filter.form.QCManNote.label_tag }}{{ filter.form.QCManNote }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.QAManNote.label_tag }}{{ filter.form.QAManNote }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.DGDNote.label_tag }}{{ filter.form.DGDNote }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.CustSignT.label_tag }}{{ filter.form.CustSignT }}</td>
                    </tr>
                    <tr>
                        <td>{{ filter.form.SurfTreat.label_tag }}{{ filter.form.SurfTreat }}</td>
                    </tr>
                    <!-- <tr style="text-align: center;">
                        <td>
                            <button type="submit" >Search</button>
                            <button onclick="window.location.href='{% url 'CSHome' %}'">Reset</button>
                            
                            
                        </td>
                        
                    </tr> -->
                </table>
            </div>

            

            

            
        </form>
    </div>
    
    <div id="table-wrapper">
        <div id="table-scroll">
            <table id="cs">
                <thead>
                    <tr>
                        <th>No</th>
                        <th>SA No</th>
                        <th>CS No</th>
                        <th>Customer ID</th>
                        
                        <th>Pipe Grade</th>
                        
                        <th>Coil Maker + Grade</th>

                        <th>OD</th>
                        <th>ID</th>
                        <th>WT</th>
                        <th>L</th>

                        <th>Part No</th>
                        <th>Part Name</th>
                        <th>Part Maker</th>
                        <th>Model</th>

                        <th>Process</th>
                        <th>InBead</th>
                        <th>Surface Level</th>
                        <th>Surface Treat</th>
                        <th>Customer</th>
                        
                        <th>QA Man Note</th>
                        <th>QC Man Note</th>

                        
                        <th>DGD Note</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in filter.qs|slice:":20" %}
                        <tr>
                            <td >{{ forloop.counter }}</td>

                            <td><a href="{% url 'sa-update' pk=item.SANo %}">{{ item.SANo }}</a></td>
                            <!-- <td><a href="#">{{ item.CSNo }}</a></td> -->
                            <td>
                                {% for itm in cs %}
                                    {% if itm.SANo == item.SANo %}
                                    <a href="{% url 'cs-update' pk=itm.CSNo %}">{{ itm.CSNo }};</a>
                                        
                                    {% endif %}
                                {% endfor %}
                            </td>
                            <td>{{ item.CustID_id }}</td>
                            
                            <td>{{ item.PipeGrade_id }}</td>
                            
                            <td>
                                {% for itm in cs %}
                                    {% if itm.SANo == item.SANo %}
                                        {% for coilpro in coilpros %}
                                            {% if coilpro.CSNo_id == itm.CSNo %}
                                                {{ coilpro.CMaker|default:"" }}+{{ coilpro.CGrade|default:"" }}/
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}
                                {% endfor %}
                                
                            </td>
                                                        
                            
                            
                            <td>{{ item.OD }}</td>
                            <td>{{ item.ID|default:"" }}</td>
                            <td>{{ item.WT }}</td>
                            <td>{{ item.L }}</td>

                            <td>{{ item.PartNo|default:"" }}</td>
                            <td>{{ item.PartName|default:"" }}</td>
                            <td>{{ item.PartMaker|default:"" }}</td>
                            <td>{{ item.Model|default:"" }}</td>

                            <td>{{ item.CProcess }}</td>
                            <td>{{ item.InBeadr|default:"" }}</td>
                            <td>{{ item.SurfLevelr|default:"" }}</td>
                            <td>{{ item.SurfTreatr|default:"" }}</td>
                            <td>{{ item.CustID }}</td>
                            
                            <td>{{ item.QAManNote }}</td>
                            <td>{{ item.QCManNote }}</td>

                            
                            <td>{{ item.DGDNote }}</td>
                           

                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="6">No SAs found.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>    
 
    Adv

    {% for group in user.groups.all %}
        {% if group.name == 'ADMIN' %}
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4036164292579668"
            crossorigin="anonymous"></script>
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-format="autorelaxed"
            data-ad-client="ca-pub-4036164292579668"
            data-ad-slot="3634864736"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        {% endif %}
    {% endfor %}

</body>
{% endblock %}